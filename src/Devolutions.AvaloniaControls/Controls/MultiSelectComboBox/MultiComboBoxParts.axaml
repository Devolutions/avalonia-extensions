<ResourceDictionary
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:u="https://irihi.tech/ursa">

  <ResourceDictionary.MergedDictionaries>
    <ResourceInclude Source="./MultiComboBox.axaml" />
    <ResourceInclude Source="./MultiComboBoxItem.axaml" />
  </ResourceDictionary.MergedDictionaries>

  <Design.PreviewWith>
    <StackPanel Height="300">
      <MultiComboBox Width="190" Watermark="fill" Margin="10">
        <MultiComboBoxItem Content="Option 1" />
        <MultiComboBoxItem Content="Option 2" />
        <MultiComboBoxItem Content="Option 3" />
        <MultiComboBoxItem Content="Option 4" />
      </MultiComboBox>
    </StackPanel>
  </Design.PreviewWith>

  <StaticResource x:Key="ClosableTagCloseIconGlyph" ResourceKey="DefaultCloseIcon" />

  <SolidColorBrush x:Key="ClosableTagBorder" Color="{DynamicResource InputBorderColor}" />
  <SolidColorBrush x:Key="ClosableTagBackground" Color="{DynamicResource ClosableTagBackgroundColor}" />
  <SolidColorBrush x:Key="ClosableTagForeground" Color="{DynamicResource TextForegroundColor}" />

  <ControlTheme x:Key="{x:Type u:ClosableTag}" TargetType="u:ClosableTag">
    <Setter Property="VerticalAlignment" Value="Stretch" />
    <Setter Property="Foreground" Value="{DynamicResource ClosableTagForeground}" />
    <Setter Property="Background" Value="{DynamicResource ClosableTagBackground}" />
    <Setter Property="BorderBrush" Value="{DynamicResource ClosableTagBorder}" />
    <Setter Property="MinHeight" Value="30" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="Template">
      <ControlTemplate TargetType="u:ClosableTag">
        <Border
          Margin="1"
          Padding="8,4,4,4"
          Background="{TemplateBinding Background}"
          BorderBrush="{TemplateBinding BorderBrush}"
          BorderThickness="{TemplateBinding BorderThickness}"
          CornerRadius="3">
          <DockPanel LastChildFill="True">
            <Button
              Name="{x:Static u:ClosableTag.PART_CloseButton}"
              Theme="{DynamicResource InnerIconButton}"
              DockPanel.Dock="Right"
              Margin="4,0,0,0"
              Command="{TemplateBinding Command}"
              CommandParameter="{TemplateBinding}"
              Content="{StaticResource ClosableTagCloseIconGlyph}" />
            <ContentPresenter
              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
              Content="{TemplateBinding Content}"
              ContentTemplate="{TemplateBinding ContentTemplate}"
              FontSize="12"
              Foreground="{TemplateBinding Foreground}"
              TextTrimming="CharacterEllipsis" />
          </DockPanel>
        </Border>
      </ControlTemplate>
    </Setter>
  </ControlTheme>
</ResourceDictionary>