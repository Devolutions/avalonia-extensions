<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:design="clr-namespace:Devolutions.AvaloniaTheme.DevExpress.Design"
                    xmlns:converters="clr-namespace:Devolutions.AvaloniaTheme.DevExpress.Converters">

  <!-- 
    Un-comment to allow auto-completion;
    DO NOT INCLUDE WHEN PUBLISHING!
  -->
  <!-- <ResourceDictionary.MergedDictionaries> -->
  <!--   <ResourceInclude Source="/Accents/ThemeResources.axaml" /> -->
  <!-- </ResourceDictionary.MergedDictionaries> -->

  
  <Design.PreviewWith>
    <design:ThemePreviewer Padding="10">
      <StackPanel>
        <ListBoxItem>No</ListBoxItem>
        <ListBoxItem IsSelected="True">Yes</ListBoxItem>
        <ListBoxItem IsEnabled="False">Disabled</ListBoxItem>
      </StackPanel>
    </design:ThemePreviewer>
  </Design.PreviewWith>

  <ControlTheme x:Key="{x:Type ListBoxItem}" TargetType="ListBoxItem">
    <Setter Property="FontSize" Value="{DynamicResource ControlFontSize}" />
    <Setter Property="FontWeight" Value="Regular" />
    <Setter Property="Foreground" Value="{DynamicResource ForegroundHighBrush}" />
    <Setter Property="Background" Value="{DynamicResource BackgroundColor}" />
    <Setter Property="Padding" Value="{DynamicResource ComboBoxItemPadding}" />
    <Setter Property="CornerRadius" Value="{DynamicResource ControlCornerRadius}" />
    <Setter Property="MinWidth"
            Value="{BindingToggler
                                      {Binding $parent[ListBox], Converter={x:Static converters:DevExpressConverters.IsMultiColumnListBox}},
                                      {DynamicResource MultiColumnListItemDefaultWidth},
                                      {DynamicResource ComboBoxItemMinWidth}}" />
    <Setter Property="Template">
      <ControlTemplate>
        <Panel
          Margin="{BindingToggler
                                      {Binding $parent[ListBox], Converter={x:Static converters:DevExpressConverters.IsMultiColumnListBox}},
                                      {DynamicResource MultiColumnListBoxItemBorderMargin},
                                      {DynamicResource ComboBoxItemBorderMargin}}">
          <Border
            Name="LayoutRoot"
            Background="Transparent"
            MinHeight="{DynamicResource ComboBoxItemMinHeight}"
            CornerRadius="{TemplateBinding CornerRadius}"
            Padding="{BindingToggler
                        {Binding $parent[ListBox], Converter={x:Static converters:DevExpressConverters.IsMultiColumnListBox}},
                        {DynamicResource MultiColumnListBoxBorderPadding},
                        {DynamicResource ComboBoxItemBorderPadding}}">
            
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Stretch">
              <Border
                Name="SingleColumnListBox_SelectionHighlight"
                IsVisible="{Binding $parent[ListBox], Converter={x:Static converters:DevExpressConverters.IsNotMultiColumnListBox}}"
                Width="{DynamicResource ComboBoxSelectionHighlightWidth}"
                Margin="{DynamicResource ComboBoxSelectionHighlightMargin}"
                VerticalAlignment="Stretch"
                Background="Transparent"
                Padding="{TemplateBinding Padding}"
                CornerRadius="{DynamicResource ComboBoxSelectionHighlightRadius}" />
    
              <ContentPresenter
                Name="PART_ContentPresenter"
                FontSize="{TemplateBinding FontSize}"
                Background="{TemplateBinding Background}"
                Foreground="{TemplateBinding Foreground}"
                ContentTemplate="{TemplateBinding ContentTemplate}"
                Content="{TemplateBinding Content}"
                HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
            </StackPanel>
          </Border>
          <Border Name="MultiColumnListBox_SelectionBorder"
                  IsVisible="{Binding $parent[ListBox], Converter={x:Static converters:DevExpressConverters.IsMultiColumnListBox}}"
                  BorderBrush="Transparent"
                  BorderThickness="2"
                  CornerRadius="{DynamicResource ComboBoxSelectionHighlightRadius}" />
        </Panel>
      </ControlTemplate>
    </Setter>

    <!--  Selected state  -->
    <Style Selector="^:selected">
      <Style Selector="^ /template/ Border#LayoutRoot">
        <Setter
          Property="Background"
          Value="{DynamicResource ControlBackgroundSelectedBrush}" />
        <Style Selector="^ ContentPresenter#PART_ContentPresenter">
          <Setter Property="Background" Value="Transparent" />
        </Style>
      </Style>
      <Style Selector="^ /template/ Border#SingleColumnListBox_SelectionHighlight">
        <Setter
          Property="Background"
          Value="{DynamicResource ControlBorderSelectedBrush}" />
      </Style>
      <Style Selector="^ /template/ Border#MultiColumnListBox_SelectionBorder">
        <Setter
          Property="BorderBrush"
          Value="{DynamicResource ControlBorderSelectedBrush}" />
      </Style>
    </Style>

    <!--  PointerOver state  -->
    <Style Selector="^:pointerover">
      <Style Selector="^ /template/ Border#LayoutRoot">
        <Setter Property="Background" Value="{DynamicResource ControlBackgroundSelectedBrush}" />
        <Style Selector="^ ContentPresenter#PART_ContentPresenter">
          <Setter Property="Background" Value="Transparent" />
        </Style>
      </Style>
      <Style Selector="^ /template/ Border#SingleColumnListBox_SelectionHighlight">
        <Setter Property="Background" Value="{DynamicResource ControlBorderSelectedBrush}" />
      </Style>
    </Style>

    <!--  Disabled state  -->
    <Style Selector="^:disabled /template/ ContentPresenter">
      <Setter Property="Background" Value="{DynamicResource ComboBoxItemBackgroundDisabled}" />
      <Setter Property="BorderBrush" Value="{DynamicResource ComboBoxItemBorderBrushDisabled}" />
      <Setter Property="Foreground" Value="{DynamicResource ComboBoxItemForegroundDisabled}" />
    </Style>

    <!-- Search highlight -->
    <Style Selector="^.search-highlight /template/ ContentPresenter#PART_ContentPresenter">
      <Setter Property="Background" Value="{DynamicResource SearchHighlightBackground}" />
      <Setter Property="Foreground" Value="{DynamicResource SearchHighlightForeground}" />
      <Setter Property="FontWeight" Value="Bold" />
    </Style>
    <Style Selector="^.secondary-search-highlight /template/ ContentPresenter#PART_ContentPresenter">
      <Setter Property="Background" Value="{DynamicResource SecondarySearchHighlightBackground}" />
      <Setter Property="Foreground" Value="{DynamicResource SecondarySearchHighlightForeground}" />
      <Setter Property="FontWeight" Value="Bold" />
    </Style>

  </ControlTheme>
</ResourceDictionary>